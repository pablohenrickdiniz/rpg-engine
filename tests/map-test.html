<!doctype html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <title>Scene Map</title>
    <link rel="stylesheet" href="../src/css/rpg-engine.css"/>
    <link rel="stylesheet" href="../src/css/custom.css"/>
    <meta name="viewport" content="width=device-width, initial-scale=1">
</head>
<body onload="init()" style="padding:0;margin:0;overflow:hidden;">
<div id="game-content">
    <div id="ui-root"></div>
    <div id="canvas-container"></div>
</div>
<footer>
    <script type="text/javascript" src="../index.js"></script>
    <script type="text/javascript" src="../plugins/Mouse/src/mouse.js"></script>
    <script type="text/javascript" src="../plugins/Keyboard/src/keyboard.js"></script>
    <script type="text/javascript" src="ui.js"></script>
    <script type="text/javascript" src="render.js"></script>
    <script type="text/javascript" src="events.js"></script>
    <script type="text/javascript">
        function init() {
            RPG.initialize('http://localhost/rpg-engine/tests/game');
            RPG.Events.on('sceneLoaded',function(name){
                if(name === 'intro'){
                    let Main = RPG.Main;
                    let map = Main.currentScene.map;
                    let i;
                    let j;
                    for(i =0; i < map.height;i++){
                        for(j = 0; j < map.width;j++){
                            map.set(i,j,0,['forest2',0,0]);
                        }
                    }
                    for(i = 0; i < 50;i++){
                        map.set(Math.floor(Math.random()*map.height),Math.floor(Math.random()*map.width),0,['forest2',7,7]);
                    }
                    Main.currentPlayerID = 1;
                }
                else if(name === 'map02'){
                    let Main = RPG.Main;
                    let spriteset = Main.currentScene.spriteset;
                    let i;
                    let j;
                    for(i =0; i < spriteset.height;i++){
                        for(j = 0; j < spriteset.width;j++){
                            spriteset.set(i,j,0,['forest2',1,1]);
                        }
                    }
                    Main.currentPlayerID = 1;
                }
            });
            RPG.Scene_Manager.call('intro');
        }
    </script>
</footer>
</body>
</html>