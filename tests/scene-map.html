<!doctype html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <title>Scene Map</title>
    <!-- canvas engine-->
    <script type="text/javascript" src="../plugins/canvas-engine/src/dist/js/CanvasEngine.js"></script>
    <script type="text/javascript" src="../plugins/canvas-engine/src/dist/js/CanvasLayer.js"></script>

    <!-- rpg engine-->
    <script type="text/javascript" src="../plugins/math-lib/src/Math.js"></script>
    <script type="text/javascript" src="../plugins/Mouse/src/mouse.js"></script>
    <script type="text/javascript" src="../plugins/Keyboard/src/keyboard.js"></script>
    <script type="text/javascript" src="../plugins/quadtree/src/quad-tree.js"></script>
    <script type="text/javascript" src="../src/AudioCompat.js"></script>


    <!--Main-->
    <script type="text/javascript" src="../src/System/TimerTicker.js"></script>
    <script type="text/javascript" src="../src/RPG.js"></script>
    <script type="text/javascript" src="../src/Game/Main.js"></script>


    <!-- Resources-->
    <script type="text/javascript" src="../src/Resources/Graphics.js"></script>


    <!--Imports-->
    <script type="text/javascript" src="../src/Animation.js"></script>
    <script type="text/javascript" src="../src/Frame.js"></script>
    <script type="text/javascript" src="../src/AnimatedTile.js"></script>
    <script type="text/javascript" src="../src/Game_Map.js"></script>
    <script type="text/javascript" src="../src/Tileset.js"></script>
    <script type="text/javascript" src="../src/Consts.js"></script>
    <script type="text/javascript" src="../src/Graphic.js"></script>
    <script type="text/javascript" src="../src/Item_Graphic.js"></script>
    <script type="text/javascript" src="../src/Character_Graphic.js"></script>
    <script type="text/javascript" src="../src/Game_Object.js"></script>
    <script type="text/javascript" src="../src/Game_Character.js"></script>
    <script type="text/javascript" src="../src/Game_Actor.js"></script>
    <script type="text/javascript" src="../src/Game_Player.js"></script>
    <script type="text/javascript" src="../src/Event_Page.js"></script>
    <script type="text/javascript" src="../src/Game_Event.js"></script>
    <script type="text/javascript" src="../src/Game_Item.js"></script>
    <script type="text/javascript" src="../src/SpritesetMap.js"></script>


    <!-- System-->
    <script type="text/javascript" src="../src/System/Canvas.js"></script>
    <script type="text/javascript" src="../src/System/Audio.js"></script>

    <!--Scene-->
    <script type="text/javascript" src="../src/Scene/Scene.js"></script>
    <script type="text/javascript" src="../src/Scene/SceneMap.js"></script>


    <!-- Loader-->
    <script type="text/javascript" src="../src/Loader/GlobalProgress.js"></script>
    <script type="text/javascript" src="../src/Loader/ImageLoader.js"></script>
    <script type="text/javascript" src="../src/Loader/AudioLoader.js"></script>
    <script type="text/javascript" src="../src/Loader/SceneLoader.js"></script>
    <script type="text/javascript" src="../src/Loader/SceneMapLoader.js"></script>
    <script type="text/javascript" src="../src/Loader/TilesetLoader.js"></script>

    <!-- Scene-->
    <script type="text/javascript" src="../src/Scene/SceneManager.js"></script>
    <script type="text/javascript" src="../src/Scene/Scene.js"></script>


    <!--data -->
    <script type="text/javascript" src="../src/Resources/Characters.js"></script>
    <script type="text/javascript" src="../src/Resources/Items.js"></script>
    <script type="text/javascript" src="dat/game_data.js"></script>

    <script type="text/javascript">
        function init() {
            var container = document.getElementById('container');
            var Game_Player = RPG.Game_Player,
                    Character_Graphic = RPG.Character_Graphic;

            var player = new Game_Player({
                graphic: new Character_Graphic({
                    image: '1',
                    rows: 4,
                    cols: 9
                }),
                speed: 8
            });

            RPG.initialize({
                container: container,
                player: player
            });

            RPG.SceneManager.new('Map', 'map01', {
                map: {
                    tileWidth: 32,
                    tileHeight: 32,
                    spriteset: spriteset,
                    player: {
                        x: 100,
                        y: 100
                    }
                },
                graphics: {
                    character: {
                        '1': '../src/images/Las2vdS.png',
                        '2': '../src/images/mack_char01.png',
                        'switches':'../src/images/recolored-handle-switches-2.png'
                    },
                    tileset: {
                        '1': '../src/images/tilea2.png'
                    },
                    icon:{
                        '1':'../src/images/icons1.png'
                    }
                },
                start: function () {
                    console.log('started...');
                    var character1 = RPG.Characters.createInstance('character1');
                    var self = this;
                    self.map.add(character1);
                }
            });
            RPG.SceneManager.call('map01');
        }
    </script>
</head>
<body onload="init()">
<div id="container"></div>
</body>
</html>